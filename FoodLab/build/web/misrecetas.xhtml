<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core">

    <h:head>

        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=4.0, user-scalable=0" />
        <title>Facelets Template</title>

        <h:outputStylesheet library="css" name="misrecetas.css"/>

        <h:outputScript library="js" name="jquery-3.3.1.min.js" />
        <h:outputScript library="js" name="bootstrap.min.js" />
        <h:outputScript library="js" name="bootstrap.bundle.min.js" />
        <h:outputScript library="js" name="galeriaImagenes.js" />
        <h:outputScript library="js" name="jquery.validate.min.js" />
        <h:outputScript library="js" name="popper.min.js" />



    </h:head>


    <body>


        <ui:decorate template="plantillas/composicion.xhtml">

            <ui:define name="content">

                <ui:decorate template="plantillas/plantilla.xhtml">

                    <ui:define name="content_int">


                        <main class="row justify-content-center mb-5">
                            <h:outputLink value="nuevareceta.xhtml" id="nuevaReceta" styleClass="row col-11 mt-5 justify-content-center" >Nueva receta</h:outputLink>

                            <section class="row col-12">

                                <span id="mensaje"><h:outputText value="#{misRecetasRespaldo.msj}" /></span>

                                <div id="recetasFav" class="col-6">    

                                    <h2>Recetas guardadas</h2>

                                    <div >    
                                        <h:panelGroup rendered="#{empty misRecetasRespaldo.recetasFav}">
                                            <span>Aún no has guardado ninguna receta.</span>
                                        </h:panelGroup>
                                        <ui:repeat value="#{misRecetasRespaldo.recetasFav}" var="receta">



                                            <div class="card">

                                                <img src="img/recetas/#{receta.foto}" class="card-img-top" />
                                                <div class="card-body">
                                                    <h5><h:outputText value="#{receta.nombre}"/></h5>
                                                    <span>
                                                        <b> Dificultad: </b> <h:outputText value="#{receta.dificultad}"/>
                                                    </span>
                                                    <span>
                                                        <b> Autor: </b> <h:outputText value="#{receta.autor.nick}"/>
                                                    </span>
                                                    <h:form>
                                                        <h:inputHidden value="#{receta.codReceta}" id="codigoReceta"/>
                                                        <h:commandButton action="#{inicioRespaldo.asignarCod()}" value="ver"/>
                                                    </h:form>

                                                </div>
                                            </div>


                                        </ui:repeat>
                                    </div>

                                </div>


                                <div id="recetasSubidas" class="col-6">    

                                    <h2>Recetas subidas</h2>


                                    <div>

                                        <h:panelGroup rendered="#{empty misRecetasRespaldo.recetasSubidas}">
                                            <span>Aún no has subido ninguna receta.</span>
                                        </h:panelGroup>
                                        <ui:repeat value="#{misRecetasRespaldo.recetasSubidas}" var="receta">


                                            <div class="card">

                                                <img src="img/recetas/#{receta.foto}" class="card-img-top" />
                                                <div class="card-body">
                                                    <span class="estadoSolicitud">
                                                        <h:panelGroup rendered="#{!receta.aceptada}" >
                                                            <h:outputText styleClass="no-aceptada" value="No aceptada" />
                                                        </h:panelGroup>
                                                        <h:panelGroup rendered="#{receta.aceptada}" >
                                                            <h:outputText styleClass="aceptada" value="Aceptada" />
                                                        </h:panelGroup>
                                                    </span>
                                                    <h5><h:outputText value="#{receta.nombre}"/></h5>
                                                    <span>
                                                        <b> Dificultad: </b> <h:outputText value="#{receta.dificultad}"/>
                                                    </span>

                                                    <h:form>
                                                        <h:inputHidden value="#{receta.codReceta}" id="codigoReceta"/>
                                                        <h:commandButton action="#{inicioRespaldo.asignarCod()}" value="ver"/>
                                                    </h:form>

                                                </div>
                                            </div>

                                        </ui:repeat>


                                    </div>
                                </div>

                            </section>

                        </main>
                    </ui:define>
                </ui:decorate>

            </ui:define>
        </ui:decorate>






    </body>

</html>
